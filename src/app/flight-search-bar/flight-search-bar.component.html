<p-card header="where to next?" [style]="{'width': '80rem', 'margin-bottom': '2em',
'margin-top': '5px', 'background-color': '#97c0e5'}">
  <form class="search" [formGroup]="flightSearchForm">
    <table>
      <td>
        <tr>Departure Airport Code</tr>
        <tr>
          <div class="col-12 md:col-3">
            <div class="p-inputgroup">
              <input type="text" pInputText formControlName='DepartureAirportCode' maxlength="3"
                     placeholder="ex: MEI">
            </div>
            <div
              *ngIf="flightSearchForm.controls['DepartureAirportCode'].errors && flightSearchForm.controls['DepartureAirportCode'].touched">
              <div class="error-msg"
                   [hidden]="!flightSearchForm.controls['DepartureAirportCode'].errors.required">
                Departure Airport Code is required.
              </div>
            </div>
          </div>
        </tr>
      </td>
      <td>
        <tr>Arrival Airport Code</tr>
        <tr>
          <div class="col-12 md:col-3">
            <div class="p-inputgroup">
              <input type="text" pInputText formControlName='ArrivalAirportCode' maxlength="3"
                     placeholder="ex: LHR">
            </div>
            <div
              *ngIf="flightSearchForm.controls['ArrivalAirportCode'].errors && flightSearchForm.controls['ArrivalAirportCode'].touched">
              <div class="error-msg"
                   [hidden]="!flightSearchForm.controls['ArrivalAirportCode'].errors.required">
                Arrival Airport Code Code is required.
              </div>
            </div>
          </div>
        </tr>
      </td>
      <td>
        <tr>Departure Date</tr>
        <tr>
          <div class="col-12 md:col-3">
            <div class="p-inputgroup">
              <input type="date" pInputText formControlName='DepartureDate'>
            </div>
          </div>
        </tr>
      </td>

      <td>
        <tr>Return Date</tr>
        <tr>
          <div class="col-12 md:col-3">
            <div class="p-inputgroup">
              <input type="date" pInputText formControlName='ReturnDate'>
            </div>
          </div>
        </tr>
      </td>
      <td>
        <tr></tr>
        <tr><button type="button" class="btn btn-primary" (click)="getFlightList()">Search</button></tr>
      </td>
    </table>
  </form>

</p-card>

<p-card>
  <p-table [value]="flights" [paginator]="true" [rows]="10" [showCurrentPageReport]="true" responsiveLayout="scroll"
           currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
           [rowsPerPageOptions]="[10,25,50]">
    <ng-template pTemplate="header">
      <tr>
        <th>
          <p-columnFilter type="text" field="AirlineName"></p-columnFilter>
        </th>
        <th></th>
        <th></th>
        <th></th>
      </tr>

      <tr>
        <th pSortableColumn="AirlineName">Airline Name
          <p-sortIcon field="AirlineName"></p-sortIcon>
        </th>
        <th pSortableColumn="OutboundFlightsDuration">Outbound Flights Duration
          <p-sortIcon field="OutboundFlightsDuration"></p-sortIcon>
        </th>
        <th pSortableColumn="InboundFlightsDuration">Inbound Flights Duration
          <p-sortIcon field="InboundFlightsDuration"></p-sortIcon>
        </th>
        <th pSortableColumn="TotalAmount">Total Amount
          <p-sortIcon field="TotalAmount"></p-sortIcon>
        </th>
      </tr>

    </ng-template>
    <ng-template pTemplate="body" let-flight>
      <tr>
        <td><img [src]="flight.AirlineLogoAddress" [alt]="flight.AirlineName"
                 width="100" class="shadow-4"/> {{flight.AirlineName}}</td>
        <td>{{flight.OutboundFlightsDuration}}</td>
        <td>{{flight.InboundFlightsDuration}}</td>
        <td>{{flight.TotalAmount}}</td>
      </tr>
    </ng-template>
  </p-table>
</p-card>
